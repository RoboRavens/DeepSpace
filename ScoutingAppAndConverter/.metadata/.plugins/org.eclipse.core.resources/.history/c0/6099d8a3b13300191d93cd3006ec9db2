import java.io.File;

public class searchForFiles {
	
	public static String listPeers() {
		File tmp1 = new File("\\.");
		File tmp2 = tmp1.getParentFile();
		String tmpString = tmp2.getName() + "\\data";
		File FMTtoCSV = new File(tmpString);
		File[] listOfFiles = FMTtoCSV.listFiles();
		File[] listOfFilesInFile;
		String output = "ERROR!";
		//Run and see the problem
		System.out.println("Searching through [ " + FMTtoCSV.getPath() + " ] for convertable files!");
		
		for (int i = 0; i < listOfFiles.length; i++) {
			if (listOfFiles[i].isDirectory()) {
				
				listOfFilesInFile = listOfFiles[i].listFiles();

				for (int ii = 0; ii < listOfFilesInFile.length; ii++) {
					if (listOfFilesInFile[ii].isFile() && (listOfFilesInFile[ii].getName()).contains(".fmt") && !(listOfFilesInFile[ii].getName()).contains("_converted.fmt")) {
						System.out.println("Found a file (Number " + (ii + 1) + " in " + (listOfFiles[i].getName()).replace(".", "") + "): " + listOfFilesInFile[ii].getName());
						output = listOfFilesInFile[ii].getPath();
					}
				}
			}
		}
		
		return(output);
	}
}